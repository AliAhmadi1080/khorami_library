
{% extends 'library/user-side/dashboardbase.html' %}

{% block title %}
    مشهاده همه درخواست ها
{% endblock title %}
    
{% block see_requests.html-style %}flex items-center px-6 py-2 mt-4 text-gray-100 bg-gray-700 bg-opacity-25  {% endblock see_requests.html-style %}

{% block headname %}
وضعیت درخواست‌ها
{% endblock headname %}

{% block header %}
<h2 class="text-xl font-semibold mb-4">
    <span class="text-red-500">تعداد درخواست‌های رد شده:</span> {{ unaccepted_requests }} |
    <span class="text-green-500">تعداد درخواست‌های قبول شده:</span> {{ accepted_requests }} |
    <span class="text-blue-500">تعداد درخواست‌های بررسی نشده:</span> {{ processing_requests }}
</h2>

{% endblock header %}
  {% block maincontent %}
<div class="py-2 -my-2 overflow-x-auto sm:-mx-6 sm:px-6 lg:-mx-8 lg:px-8">
  <h3 class="text-xl">نتایج درخواست ها</h3>
  <br />
  <div
    class="inline-block min-w-full overflow-hidden align-middle border-b border-gray-200 shadow sm:rounded-lg"
  >
    <table class="min-w-full">
      <thead>
        <tr>
          <th
            class="px-6 py-3 text-xs font-medium leading-4 tracking-wider text-right text-gray-500 uppercase border-b border-gray-200 bg-gray-50"
          >
            #
          </th>
          <th
            class="px-6 py-3 text-xs font-medium leading-4 tracking-wider text-right text-gray-500 uppercase border-b border-gray-200 bg-gray-50"
          >
            نام کتاب
          </th>
          <th
            class="px-6 py-3 text-xs font-medium leading-4 tracking-wider text-right text-gray-500 uppercase border-b border-gray-200 bg-gray-50"
          >
            کد کتاب
          </th>
          <th
            class="px-6 py-3 text-xs font-medium leading-4 tracking-wider text-right text-gray-500 uppercase border-b border-gray-200 bg-gray-50"
          >
            تاریخ تحویل
          </th>
          <th
            class="px-6 py-3 text-xs font-medium leading-4 tracking-wider text-right text-gray-500 uppercase border-b border-gray-200 bg-gray-50"
          >
            وضعیت
          </th>
          
        </tr>
      </thead>

      <tbody class="bg-white">
        {% for request in requests %}
        <tr>
          <td class="px-6 py-4 whitespace-no-wrap border-b border-gray-200">
            {{forloop.counter}}
          </td>

          <td class="px-6 py-4 whitespace-no-wrap border-b border-gray-200">
            {{request.loan.book.name}}
          </td>

          <td class="px-6 py-4 whitespace-no-wrap border-b border-gray-200">
            {{request.loan.book.code}}
          </td>

          <td class="px-6 py-4 whitespace-no-wrap border-b border-gray-200">
            {{request.loan.return_date}}
          </td>

          {% if request.status == "processing" %}
        <td class="px-6 py-4 whitespace-no-wrap border-b text-blue-500 border-gray-200">
            درحال پردازش
          </td>
        {% elif request.status == "rejected" %}
        <td class="px-6 py-4 whitespace-no-wrap border-b text-red-500 border-gray-200">
            رد درخواست
          </td>
        {% elif request.status == "accepted" %}
        <td class="px-6 py-4 whitespace-no-wrap border-b text-green-500 border-gray-200">
            پذیرش درخواست
          </td>

        {% endif %}
          

          
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>
{% endblock %}
